USE OpenDog;
DROP TABLE IF EXISTS TB_USER;
CREATE TABLE TB_USER(
    UID INT NOT NULL  AUTO_INCREMENT  COMMENT '主键' ,
    USER_NAME VARCHAR(255) UNIQUE NOT NULL   COMMENT '用户名' ,
    PASSWD VARCHAR(255) NOT NULL   COMMENT '密码' ,
    EMAIL VARCHAR(255) NOT NULL   COMMENT '邮箱' ,
    QUESTION VARCHAR(900) NOT NULL   COMMENT '安全问题' ,
    ANSWER VARCHAR(900) NOT NULL   COMMENT '问题答案' ,
    ROLE INT NOT NULL   COMMENT '角色;0: 管理员,1:普通用户' ,
    CREATED_TIME DATETIME NOT NULL   COMMENT '创建时间' ,
    UPDATED_TIME DATETIME NOT NULL   COMMENT '更新时间' ,
    PRIMARY KEY (UID)
)  COMMENT = '用户表';

DROP TABLE IF EXISTS TB_CASE;
CREATE TABLE TB_CASE(
    CID INT NOT NULL AUTO_INCREMENT  COMMENT '主键' ,
    CASE_NAME VARCHAR(255) NOT NULL   COMMENT '用例名' ,
    UID INT NOT NULL   COMMENT '用例所有者' ,
    PID INT    COMMENT '项目ID' ,
    TID INT    COMMENT 'TASK ID' ,
    DID VARCHAR(255) NOT NULL   COMMENT '数据位置' ,
    ACCESS_STATE INT NOT NULL   COMMENT '访问状态;0是私有,1是密码访问，2是公开方案' ,
    ACCESS_URL VARCHAR(255)    COMMENT '网络访问链接' ,
    ACCESS_PASSWD VARCHAR(255)    COMMENT '访问密码' ,
    COMMENT VARCHAR(900)    COMMENT '备注' ,
    UPDATED_TIME DATETIME NOT NULL   COMMENT '最后更新时间' ,
    CREATED_TIME DATETIME NOT NULL   COMMENT '上传时间' ,
    PRIMARY KEY (CID)
)  COMMENT = '用例数据';

DROP TABLE IF EXISTS TB_PROJECT;
CREATE TABLE TB_PROJECT(
    PID INT NOT NULL AUTO_INCREMENT  COMMENT '项目ID' ,
    PROJECT_NAME VARCHAR(255) NOT NULL   COMMENT '项目名' ,
    UID INT NOT NULL   COMMENT '项目所有人' ,
    TID INT    COMMENT '所属任务' ,
    COMMENT VARCHAR(900)    COMMENT '备注' ,
    UPDATED_TIME DATETIME NOT NULL   COMMENT '' ,
    CREATED_TIME DATETIME NOT NULL   COMMENT '' ,
    PRIMARY KEY (PID)
)  COMMENT = '项目表';

DROP TABLE IF EXISTS TB_TASK;
CREATE TABLE TB_TASK(
    TID INT NOT NULL AUTO_INCREMENT  COMMENT '主键' ,
    TASK_NAME VARCHAR(255) NOT NULL   COMMENT '任务名' ,
    UID INT NOT NULL   COMMENT '任务所有者' ,
    COMMENT VARCHAR(900)    COMMENT '备注' ,
    UPDATED_TIME DATETIME NOT NULL   COMMENT '更新时间' ,
    CREATED_TIME DATETIME NOT NULL   COMMENT '创建时间' ,
    PRIMARY KEY (TID)
)  COMMENT = '任务表';

DROP TABLE IF EXISTS TB_TOKEN;
CREATE TABLE TB_TOKEN(
    ID INT NOT NULL AUTO_INCREMENT  COMMENT '' ,
    UID INT NOT NULL   COMMENT '' ,
    TOKEN VARCHAR(255) NOT NULL   COMMENT '' ,
    VALID_TIME DATETIME NOT NULL   COMMENT '有效时间;超过该时间点，token失效' ,
    STATE INT NOT NULL   COMMENT '状态;0：长期token，1：临时token' ,
    PRIMARY KEY (ID)
)  COMMENT = 'Token表';

DROP TABLE IF EXISTS TB_SHARED_TASK;
CREATE TABLE TB_SHARED_TASK(
    TSID INT NOT NULL AUTO_INCREMENT  COMMENT '' ,
    TID INT NOT NULL   COMMENT '' ,
    UID INT NOT NULL   COMMENT '' ,
    PRIMARY KEY (TSID)
)  COMMENT = '项目分享记录';




